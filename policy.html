<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Privacy Policy | 1Air</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <style>
    :root { --fg:#16181b; --muted:#57606a; --bg:#fff; --accent:#0a84ff; }
    * { box-sizing:border-box; }
    body { margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji"; color:var(--fg); background:var(--bg); }
    header { padding:48px 20px 24px; border-bottom:1px solid #e5e7eb; }
    main { max-width:860px; margin:0 auto; padding:24px 20px 64px; }
    h1 { margin:0 0 8px; font-size:32px; }
    h2 { margin:32px 0 10px; font-size:22px; }
    h3 { margin:18px 0 10px; font-size:18px; }
    p, li { color:#222; }
    .muted { color:var(--muted); }
    .badge { display:inline-block; padding:2px 8px; border-radius:999px; background:#eef2ff; color:#2746b3; font-size:12px; margin-left:8px; }
    nav { margin:16px 0 0; }
    nav a { margin-right:12px; color:var(--accent); text-decoration:none; }
    nav a:hover { text-decoration:underline; }
    ul { padding-left:20px; }
    code { background:#f6f8fa; padding:2px 6px; border-radius:6px; font-size:90%; }
    footer { border-top:1px solid #e5e7eb; padding:16px 20px; font-size:14px; color:var(--muted); }
    .card { border:1px solid #e5e7eb; border-radius:12px; padding:16px; background:#fafafa; }
    .lang { margin-top:10px; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .lang button {
      border:1px solid #e5e7eb; background:#fff; padding:6px 10px; border-radius:999px;
      cursor:pointer; font-size:14px;
    }
    .lang button[aria-pressed="true"] { border-color:#0a84ff; color:#0a84ff; }
    
    /* Language Dropdown */
    .lang-dropdown { position: relative; display: inline-block; }
    .lang-dropdown-btn {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 6px 12px;
      font-size: 14px;
      cursor: pointer;
      color: var(--fg);
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
    }
    .lang-dropdown-btn:hover {
      background: #f6f8fa;
      border-color: #0a84ff;
    }
    .lang-dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 4px;
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-height: 400px;
      overflow-y: auto;
      min-width: 180px;
      display: none;
      z-index: 1000;
    }
    .lang-dropdown-menu.show { display: block; }
    .lang-dropdown-item {
      padding: 8px 16px;
      cursor: pointer;
      color: var(--fg);
      font-size: 14px;
      transition: background 0.2s;
      border-bottom: 1px solid #e5e7eb;
    }
    .lang-dropdown-item:last-child { border-bottom: none; }
    .lang-dropdown-item:hover {
      background: #f6f8fa;
      color: #0a84ff;
    }
    .lang-dropdown-item.active {
      background: #f6f8fa;
      color: #0a84ff;
      font-weight: 600;
    }
    .warn { border-left:4px solid #f59e0b; padding-left:12px; background:#fff7ed; border-radius:8px; }
  </style>
</head>
<body>
<header>
  <h1><span data-i18n="title">Privacy Policy</span> <span class="badge">1Air</span></h1>
  <p class="muted">
    <span data-i18n="effectiveDateLabel">Effective date:</span>
    <strong data-i18n="effectiveDateValue">November 5, 2025</strong>
  </p>

  <nav>
    <a href="#summary" data-i18n="nav.summary">Summary</a>
    <a href="#data-we-collect" data-i18n="nav.dataWeCollect">Data We Collect</a>
    <a href="#how-we-use" data-i18n="nav.howWeUse">How We Use Data</a>
    <a href="#sharing" data-i18n="nav.sharing">Sharing &amp; Processors</a>
    <a href="#security" data-i18n="nav.security">Security</a>
    <a href="#retention" data-i18n="nav.retention">Data Retention</a>
    <a href="#rights" data-i18n="nav.rights">Your Rights</a>
    <a href="#children" data-i18n="nav.children">Children</a>
    <a href="#changes" data-i18n="nav.changes">Changes</a>
    <a href="#contact" data-i18n="nav.contact">Contact</a>
  </nav>

  <div class="lang" aria-label="Language">
    <span class="muted" data-i18n="languageLabel">Language:</span>
    <div class="lang-dropdown">
      <button class="lang-dropdown-btn" onclick="toggleLangDropdown()">
        <span id="current-lang-name">English</span>
        <span>▼</span>
      </button>
      <div class="lang-dropdown-menu" id="lang-dropdown-menu"></div>
    </div>
  </div>
</header>

<main>
  <section id="summary" class="card">
    <h2 data-i18n="summary.title">At a Glance</h2>
    <ul>
      <li data-i18n="summary.bullets.noTracking"><strong>No tracking. No ads.</strong> 1Air does not include advertising or third-party trackers.</li>
      <li data-i18n="summary.bullets.onDevice"><strong>Your videos stay on your device.</strong> The app reads MP4 files you choose and can store them in your local Documents folder; content is processed on-device.</li>
      <li data-i18n="summary.bullets.icloud"><strong>Optional iCloud Drive.</strong> If you choose files from iCloud Drive, the files remain in your iCloud account under Apple’s terms.</li>
      <li data-i18n="summary.bullets.diagnostics"><strong>Minimal diagnostics.</strong> We only receive anonymized crash/diagnostic data if you opt in to share with developers via Apple settings.</li>
    </ul>
  </section>

  <section id="who-we-are">
    <h2 data-i18n="who.title">Who We Are</h2>
    <p><strong data-i18n="who.developerLabel">Developer:</strong> <span data-i18n="who.developerValue">[Your Legal Entity Name, e.g., J-Apps Co.]</span> <span data-i18n="who.developerSuffix">(“we”, “us”, or “our”)</span></p>
    <p><strong data-i18n="who.appLabel">App:</strong> <span data-i18n="who.appValue">1Air (iOS/iPadOS/macOS)</span></p>
    <p><strong data-i18n="who.contactLabel">Contact:</strong> <a id="contactEmailLink" href="mailto:[jappscompany@gmail.com]">[jappscompany@gmail.com]</a></p>
  </section>

  <section id="data-we-collect">
    <h2 data-i18n="collect.title">Data We Collect</h2>

    <h3 data-i18n="collect.contentYouChoose.title">1) Content You Choose</h3>
    <p data-i18n="collect.contentYouChoose.p1">When you use the Files picker to select videos, 1Air is granted read access only to the items you select. If you enable the app’s “Save to Documents” feature, copies of selected files are saved locally in the app’s sandbox.</p>
    <ul>
      <li data-i18n="collect.contentYouChoose.scope"><strong>Scope:</strong> Only files you select; no background scanning of unrelated folders.</li>
      <li data-i18n="collect.contentYouChoose.processing"><strong>Processing:</strong> Playback and file management occur on-device.</li>
      <li data-i18n="collect.contentYouChoose.sync"><strong>Sync:</strong> If you select from iCloud Drive, storage and syncing are managed by Apple iCloud under Apple’s policies.</li>
    </ul>

    <h3 data-i18n="collect.diagnostics.title">2) Diagnostics (Optional)</h3>
    <p data-i18n="collect.diagnostics.p1">If you opt in to share analytics/crash reports with developers (Apple Settings &gt; Privacy &amp; Security &gt; Analytics &amp; Improvements), we may receive:</p>
    <ul>
      <li data-i18n="collect.diagnostics.b1">Crash logs and performance metrics (anonymized by Apple)</li>
      <li data-i18n="collect.diagnostics.b2">Device model, OS version, and similar technical metadata</li>
    </ul>
    <p data-i18n="collect.diagnostics.p2">We do not receive your identity from these reports.</p>

    <h3 data-i18n="collect.support.title">3) Support Communications</h3>
    <p data-i18n="collect.support.p1">If you email us, we will receive your email address and the contents of your message to respond to your request.</p>

    <h3 data-i18n="collect.notCollect.title">We Do <em>Not</em> Collect</h3>
    <ul>
      <li data-i18n="collect.notCollect.b1">Personal identifiers within the app (name, phone number, contacts)</li>
      <li data-i18n="collect.notCollect.b2">Precise location data</li>
      <li data-i18n="collect.notCollect.b3">Advertising identifiers or behavioral tracking data</li>
    </ul>
  </section>

  <section id="how-we-use">
    <h2 data-i18n="use.title">How We Use Data</h2>
    <ul>
      <li data-i18n="use.b1">To provide core functionality (file access you request, video playback)</li>
      <li data-i18n="use.b2">To maintain and improve app quality (diagnostics if you opted in)</li>
      <li data-i18n="use.b3">To reply to support inquiries</li>
    </ul>
  </section>

  <section id="sharing">
    <h2 data-i18n="sharing.title">Sharing &amp; Processors</h2>
    <p data-i18n="sharing.p1"><strong>We do not sell your data.</strong> We do not share personal data with third parties for advertising or marketing.</p>
    <p data-i18n="sharing.p2"><strong>Service Providers:</strong> We may use service providers solely to operate and support the app (e.g., Apple iCloud for files you store there; Apple’s crash reporting pipeline if you opted in). These providers act as processors under their own terms and security controls.</p>
    <ul>
      <li data-i18n="sharing.apple"><strong>Apple (iCloud &amp; Crash Reports):</strong> Files and analytics handled per Apple’s privacy policy and your device settings.</li>
    </ul>
    <p data-i18n="sharing.p3">We may disclose information if required by law or to protect rights, safety, and security.</p>
  </section>

  <section id="security">
    <h2 data-i18n="security.title">Security</h2>
    <p data-i18n="security.p1">1Air stores user-saved files within the app’s sandbox on your device. We apply platform security best practices and rely on Apple’s system protections for iOS/iPadOS/macOS. No method of electronic storage is 100% secure, but we work to protect your information.</p>

    <h3 data-i18n="security.ollama.title">Ollama Network Integration</h3>
    <p class="warn" data-i18n="security.ollama.warn">
      If you connect 1Air to an Ollama server over the network using <code>http://</code>, the connection is <strong>not encrypted in transit</strong> (no TLS). This means the content you send (such as text prompts, metadata, or other payloads) may be exposed to interception or leakage on the network. When using <code>http://</code> (especially on public networks), <strong>you assume all risks</strong> and <strong>you are responsible</strong> for any exposure resulting from using an unencrypted connection. We strongly recommend using <code>https://</code>, a trusted internal network, VPN, or other secure transport.
    </p>
  </section>

  <section id="retention">
    <h2 data-i18n="retention.title">Data Retention</h2>
    <ul>
      <li data-i18n="retention.b1"><strong>On-device files:</strong> Remain until you delete them or uninstall the app.</li>
      <li data-i18n="retention.b2"><strong>Support emails:</strong> Retained only as long as needed to resolve your request and meet legal obligations.</li>
      <li data-i18n="retention.b3"><strong>Diagnostics:</strong> Retained per Apple’s analytics retention policies.</li>
    </ul>
  </section>

  <section id="rights">
    <h2 data-i18n="rights.title">Your Privacy Rights</h2>
    <p data-i18n="rights.p1">Depending on your region, you may have rights to access, correct, delete, or restrict certain data we hold about you, and to object to or withdraw consent for processing where applicable.</p>
    <ul>
      <li data-i18n="rights.gdpr"><strong>GDPR (EEA/UK):</strong> You may request access or deletion of personal data we control (primarily support emails). For data held by Apple (e.g., crash logs, iCloud files), please use Apple’s privacy tools.</li>
      <li data-i18n="rights.ccpa"><strong>CCPA/CPRA (California):</strong> We do not sell or share personal information for cross-context advertising. You may request access or deletion of personal information we hold (primarily support emails).</li>
    </ul>
    <p data-i18n="rights.p2">To exercise rights, contact us at <a id="rightsEmailLink" href="mailto:[jappscompany@gmail.com]">[jappscompany@gmail.com]</a>. We may need to verify your request.</p>
  </section>

  <section id="children">
    <h2 data-i18n="children.title">Children’s Privacy</h2>
    <p data-i18n="children.p1">1Air is not directed to children under 13 (or the minimum age required by your jurisdiction). We do not knowingly collect personal data from children.</p>
  </section>

  <section id="international">
    <h2 data-i18n="international.title">International Transfers</h2>
    <p data-i18n="international.p1">Your information may be processed in the country where you reside and in other countries where our service providers operate (e.g., Apple’s infrastructure). We implement measures designed to protect your information consistent with applicable law.</p>
  </section>

  <section id="changes">
    <h2 data-i18n="changes.title">Changes to This Policy</h2>
    <p data-i18n="changes.p1">We may update this Privacy Policy from time to time. We will post the updated version in-app or on our website and revise the “Effective date” above. Material changes will be highlighted.</p>
  </section>

  <section id="contact">
    <h2 data-i18n="contact.title">Contact Us</h2>
    <p data-i18n="contact.p1">If you have questions about this Privacy Policy or our practices, contact us:</p>
    <ul>
      <li><span data-i18n="contact.emailLabel">Email:</span> <a id="footerEmailLink" href="mailto:[jappscompany@gmail.com]">[jappscompany@gmail.com]</a></li>
      <li data-i18n="contact.dpo">Data Protection Contact (if applicable): [Jake / jappscompany@gmail.com]</li>
    </ul>
  </section>
</main>

<footer>
  <p data-i18n="footer.copyright">© [2025] J-Apps. All rights reserved.</p>
</footer>

<script>
  // Language configuration
  const LANGUAGES = [
    { code: 'ar', name: 'العربية' },
    { code: 'ca', name: 'Català' },
    { code: 'cs', name: 'Čeština' },
    { code: 'da', name: 'Dansk' },
    { code: 'de', name: 'Deutsch' },
    { code: 'el', name: 'Ελληνικά' },
    { code: 'en', name: 'English' },
    { code: 'es', name: 'Español' },
    { code: 'es-MX', name: 'Español (México)' },
    { code: 'fi', name: 'Suomi' },
    { code: 'fr', name: 'Français' },
    { code: 'fr-CA', name: 'Français (Canada)' },
    { code: 'he', name: 'עברית' },
    { code: 'hi', name: 'हिन्दी' },
    { code: 'hr', name: 'Hrvatski' },
    { code: 'hu', name: 'Magyar' },
    { code: 'id', name: 'Bahasa Indonesia' },
    { code: 'it', name: 'Italiano' },
    { code: 'ja', name: '日本語' },
    { code: 'ko', name: '한국어' },
    { code: 'ms', name: 'Bahasa Melayu' },
    { code: 'nb', name: 'Norsk Bokmål' },
    { code: 'pl', name: 'Polski' },
    { code: 'pt-BR', name: 'Português (Brasil)' },
    { code: 'pt-PT', name: 'Português (Portugal)' },
    { code: 'ro', name: 'Română' },
    { code: 'ru', name: 'Русский' },
    { code: 'sk', name: 'Slovenčina' },
    { code: 'sv', name: 'Svenska' },
    { code: 'th', name: 'ไทย' },
    { code: 'tr', name: 'Türkçe' },
    { code: 'uk', name: 'Українська' },
    { code: 'vi', name: 'Tiếng Việt' },
    { code: 'zh-Hans', name: '简体中文' },
    { code: 'zh-Hant', name: '繁體中文' }
  ];

  const storageKey = "privacy_lang";

  function initLangDropdown() {
    const menu = document.getElementById('lang-dropdown-menu');
    LANGUAGES.forEach(lang => {
      const item = document.createElement('div');
      item.className = 'lang-dropdown-item';
      item.textContent = lang.name;
      item.onclick = () => setLang(lang.code);
      menu.appendChild(item);
    });
  }

  function toggleLangDropdown() {
    const menu = document.getElementById('lang-dropdown-menu');
    menu.classList.toggle('show');
  }

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    const dropdown = document.querySelector('.lang-dropdown');
    if (dropdown && !dropdown.contains(e.target)) {
      document.getElementById('lang-dropdown-menu').classList.remove('show');
    }
  });

  function guessLang() {
    const saved = localStorage.getItem(storageKey);
    if (saved && LANGUAGES.find(l => l.code === saved)) return saved;

    const nav = (navigator.language || "en").toLowerCase();
    // Try to match language
    for (const lang of LANGUAGES) {
      if (nav.startsWith(lang.code.split('-')[0])) {
        return lang.code;
      }
    }
    return "en";
  }

  async function loadLocale(lang) {
    try {
      const res = await fetch(`./locales/${lang}.json`, { cache: "no-store" });
      if (!res.ok) throw new Error("Failed to load locale: " + lang);
      return await res.json();
    } catch (error) {
      console.warn(`Failed to load ${lang}.json, falling back to en.json`);
      const res = await fetch(`./locales/en.json`, { cache: "no-store" });
      if (!res.ok) return null;
      return await res.json();
    }
  }

  function applyI18n(dict) {
    document.documentElement.lang = dict._meta?.htmlLang || "en";

    const nodes = document.querySelectorAll("[data-i18n]");
    nodes.forEach(el => {
      const key = el.getAttribute("data-i18n");
      const value = key.split(".").reduce((acc, k) => (acc && acc[k] != null ? acc[k] : null), dict);
      if (value == null) return;

      // allow HTML in translations for <strong>, <code>, entities, links inside text, etc.
      el.innerHTML = value;
    });

    // Keep placeholder mailto values consistent across the page (optional)
    const email = dict._meta?.contactEmail || "[jappscompany@gmail.com]";
    ["contactEmailLink","rightsEmailLink","footerEmailLink"].forEach(id => {
      const a = document.getElementById(id);
      if (a) {
        a.href = "mailto:" + email.replace(/^\[|\]$/g, "");
        a.textContent = email;
      }
    });
  }

  async function setLang(lang) {
    const finalLang = LANGUAGES.find(l => l.code === lang) ? lang : "en";
    localStorage.setItem(storageKey, finalLang);

    const dict = await loadLocale(finalLang);
    if (!dict) return;
    applyI18n(dict);

    // Update dropdown UI
    const langInfo = LANGUAGES.find(l => l.code === finalLang);
    if (langInfo) {
      document.getElementById('current-lang-name').textContent = langInfo.name;
    }
    
    // Update active state in dropdown
    document.querySelectorAll('.lang-dropdown-item').forEach(item => {
      item.classList.remove('active');
      if (item.textContent === langInfo.name) {
        item.classList.add('active');
      }
    });

    // Close dropdown
    document.getElementById('lang-dropdown-menu').classList.remove('show');
  }

  // Initialize on page load
  window.onload = function() {
    initLangDropdown();
    setLang(guessLang()).catch(() => setLang("en"));
  };
</script>
</body>
</html>
